<!DOCTYPE html>
<html>
<head> 
    <meta charset="UTF-8">
    <title>Fire Page</title>
    <script type="text/javascript">
        document.onkeypress = keypressed;
        var last_action = "";
        var start_dt = new Date ( );
        var last_mills = start_dt.getTime ( );
        
        function sendMotion (action) {
           var run_dt = new Date ( );
           var mills = run_dt.getTime ( );
        
           // If a dup, ignore if newer than .500ms
           if (action == last_action && (mills - last_mills) <= 500)
              return;
        
           last_mills = mills;
           last_action = action;
           request = new XMLHttpRequest ( );
           request.open ("GET", action, true);
           request.send ( );
        }
        
        function keypressed (event) {
           var keyCd = ('charCode' in event) ? event.charCode : event.keyCode;
        
           if (keyCd == 49)            // 1
              sendMotion ('panlt')
        
           if (keyCd == 50)            // 2
              sendMotion ('panrt')
        
           if (keyCd == 51)            // 3
              sendMotion ('panfull_lt')
        
           if (keyCd == 52)
              sendMotion ('panfull_rt') // 4
        
           if (keyCd == 47)            // /
              sendMotion ('home')
        
           if (keyCd == 113 || keyCd == 81)  // q
              sendMotion ('ltforward')
        
           if (keyCd == 119 || keyCd == 87)  // w
              sendMotion ('forward')
        
           if (keyCd == 122 || keyCd == 90)  // z
              sendMotion ('backward')
        
           if (keyCd == 101 || keyCd == 69)  // e
              sendMotion ('rtforward')
        
           if (keyCd == 97 || keyCd == 65)   // a
              sendMotion ('left')
        
           if (keyCd == 104 || keyCd == 72)  // h
              sendMotion ('stop')
        
           if (keyCd == 115 || keyCd == 83)  // s
              sendMotion ('right')
        }
    </script>
</head>
<body>
    <h2>Fire page</h2>
    <input type="button" value="fire" id="fire" onclick="sendMotion ('fire');"/>
</body>
</html>